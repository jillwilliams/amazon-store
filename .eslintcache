[{"/Users/jillwilliams/code/amazon-store/src/App.js":"1","/Users/jillwilliams/code/amazon-store/src/index.js":"2","/Users/jillwilliams/code/amazon-store/src/Header.js":"3","/Users/jillwilliams/code/amazon-store/src/Home.js":"4","/Users/jillwilliams/code/amazon-store/src/Product.js":"5","/Users/jillwilliams/code/amazon-store/src/Checkout.js":"6","/Users/jillwilliams/code/amazon-store/src/Subtotal.js":"7","/Users/jillwilliams/code/amazon-store/src/reducer.js":"8","/Users/jillwilliams/code/amazon-store/src/StateProvider.js":"9","/Users/jillwilliams/code/amazon-store/src/CheckoutProduct.js":"10","/Users/jillwilliams/code/amazon-store/src/Login.js":"11","/Users/jillwilliams/code/amazon-store/src/firebase.js":"12","/Users/jillwilliams/code/amazon-store/src/Payment.js":"13","/Users/jillwilliams/code/amazon-store/src/axios.js":"14","/Users/jillwilliams/code/amazon-store/src/Orders.js":"15","/Users/jillwilliams/code/amazon-store/src/Order.js":"16"},{"size":2169,"mtime":1606385714200,"results":"17","hashOfConfig":"18"},{"size":430,"mtime":1606294124867,"results":"19","hashOfConfig":"18"},{"size":2667,"mtime":1606359465885,"results":"20","hashOfConfig":"18"},{"size":1959,"mtime":1606334376657,"results":"21","hashOfConfig":"18"},{"size":1202,"mtime":1606348628234,"results":"22","hashOfConfig":"18"},{"size":1228,"mtime":1606350494051,"results":"23","hashOfConfig":"18"},{"size":1269,"mtime":1606360181197,"results":"24","hashOfConfig":"18"},{"size":1368,"mtime":1606379550641,"results":"25","hashOfConfig":"18"},{"size":497,"mtime":1606291857766,"results":"26","hashOfConfig":"18"},{"size":1279,"mtime":1606389637620,"results":"27","hashOfConfig":"18"},{"size":2190,"mtime":1606356663719,"results":"28","hashOfConfig":"18"},{"size":711,"mtime":1606357566638,"results":"29","hashOfConfig":"18"},{"size":5198,"mtime":1606381982344,"results":"30","hashOfConfig":"18"},{"size":154,"mtime":1606377349705,"results":"31","hashOfConfig":"18"},{"size":1063,"mtime":1606386591354,"results":"32","hashOfConfig":"18"},{"size":1324,"mtime":1606389451126,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"log9u",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"55"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/jillwilliams/code/amazon-store/src/App.js",["75","76"],"/Users/jillwilliams/code/amazon-store/src/index.js",[],["77","78"],"/Users/jillwilliams/code/amazon-store/src/Header.js",["79"],"import React from 'react';\nimport './Header.css';\nimport Logo from './images/amazon-logo.png';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { Link } from 'react-router-dom';\nimport { useStateValue } from './StateProvider';\nimport { auth } from './firebase';\n\nfunction Header() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const handleAuthentication = () => {\n        if (user) {\n            auth.signOut();\n        }\n    }\n\n    return (\n        <div className=\"header\">\n            <Link to='/'>\n                <img src={Logo} alt=\"amazon logo\" className=\"header_logo\" />\n            </Link>\n            <div className=\"header_search\">\n                <input type=\"text\" className=\"header_searchInput\" />\n                <SearchIcon className=\"header_searchIcon\" />\n            </div>\n            <div className=\"header_nav\">\n                <Link to={!user && \"/login\"}>\n                    <div onClick={handleAuthentication}className=\"header_option\">\n                        <span className=\"header_optionLineOne\">\n                            Hello {!user ? \"Guest\" : user.email}\n                        </span>\n                        <span className=\"header_optionLineTwo\">\n                            {user ? \"Sign Out\" : \"Sign In\"}\n                        </span>\n                    </div>\n                </Link>\n                <Link to='/orders'>\n                    <div className=\"header_option\">\n                        <span className=\"header_optionLineOne\">\n                            Returns&nbsp;\n                        </span>\n                        <span className=\"header_optionLineTwo\">\n                            & Orders\n                        </span>\n                    </div>\n                </Link>\n                <Link to='/'>\n                    <div className=\"header_option\">\n                        <span className=\"header_optionLineOne\">\n                            Your\n                        </span>\n                        <span className=\"header_optionLineTwo\">\n                            Prime\n                        </span>\n                    </div>\n                </Link>\n                <Link to=\"/checkout\">\n                    <div className=\"header_optionBasket\">\n                        <ShoppingCartIcon className=\"shopping_cart\"/>\n                        <span className=\"header_optionLineTwo header_basketCount\">\n                            {basket?.length}\n                        </span>\n                    </div> \n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","/Users/jillwilliams/code/amazon-store/src/Home.js",[],"/Users/jillwilliams/code/amazon-store/src/Product.js",["80"],"import React from 'react';\nimport './Product.css';\nimport { useStateValue } from './StateProvider';\n\nfunction Product({ id, title, image, price, rating }) {\n    const [{ basket }, dispatch] = useStateValue();\n    const addToBasket = () => {\n        dispatch({\n            type: 'ADD_TO_BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            },\n        });\n    };\n\n    return (\n        <div className=\"product\">\n            <div className=\"product_info\">\n                <p>{title}</p>\n                <p className=\"product_price\">\n                    <small>$</small>\n                    <strong>{price}</strong>\n                </p>\n                <div className=\"product_rating\">\n                    {Array(rating).fill().map((_, i) => (\n                        <p className=\"flame\">üçÅ</p>\n                    ))}\n                </div>\n            </div>\n            <img src={image} alt=\" \" />\n            <button onClick={addToBasket} className=\"product_button\">\n                Add to Cart\n            </button>\n        </div>\n    );\n}\n\nexport default Product;\n","/Users/jillwilliams/code/amazon-store/src/Checkout.js",["81"],"import React from 'react';\nimport \"./Checkout.css\"\nimport Ad from './images/chase.png';\nimport Subtotal from './Subtotal';\nimport { useStateValue } from './StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\n\nfunction Checkout() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    \n    return (\n        <div className=\"checkout\">\n            <div className=\"checkout_left\">\n                <img src={Ad} alt=\"ad\" className=\"checkout_ad\" />\n                <div>\n                    <h4>Hello {user?.email}!</h4>\n                    <h2 className=\"checkout_title\">\n                        Your Shopping Cart\n                    </h2>\n                    {basket.map(item => (\n                        <CheckoutProduct \n                            item={item.id}\n                            id={item.id}\n                            title={item.title}\n                            image={item.image}\n                            price={item.price}\n                            rating={item.rating} />\n                    ))}\n                </div>\n            </div>\n            <div className=\"checkout_right\">\n                <Subtotal />\n            </div>\n        </div>\n    );\n}\n\nexport default Checkout;\n","/Users/jillwilliams/code/amazon-store/src/Subtotal.js",["82"],"/Users/jillwilliams/code/amazon-store/src/reducer.js",["83"],"export const initialState = {\n    basket: [],\n    user: null\n};\n\nexport const getBasketTotal = (basket) =>\n    basket?.reduce((amount, item) => item.price + amount, 0)\n\nconst reducer = (state, action) => {\n    switch(action.type) {\n        case 'ADD_TO_BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n        case 'EMPTY_BASKET':\n            return {\n                ...state,\n                basket: [],\n            }\n        case 'REMOVE_FROM_BASKET':\n            const index = state.basket.findIndex((basketItem) => basketItem.id === action.id);\n\n            let newBasket = [...state.basket];\n\n            if (index >= 0) {\n                newBasket.splice(index, 1);  // takesthe newarray and cuts out the deleted item, the number \"1\" tells us how many ofthose items to cut out that match the item's index when you have duplicate items in thecart\n            } else {\n                console.warn(\"Can't remove product (id: ${action.id}) as it is not in the basket.\");\n            }\n            return {\n                ...state,\n                basket: newBasket\n            }\n        case 'SET_USER':\n            return {\n                ...state, \n                user: action.user\n            }\n        \n        default:\n            return state;\n    }\n};\n\nexport default reducer;",["84","85"],"/Users/jillwilliams/code/amazon-store/src/StateProvider.js",[],["86","87"],"/Users/jillwilliams/code/amazon-store/src/CheckoutProduct.js",["88","89"],"/Users/jillwilliams/code/amazon-store/src/Login.js",[],"/Users/jillwilliams/code/amazon-store/src/firebase.js",[],"/Users/jillwilliams/code/amazon-store/src/Payment.js",["90"],"import React, { useState, useEffect } from 'react';\nimport './Payment.css';\nimport { useStateValue } from './StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { Link, useHistory } from 'react-router-dom';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from './reducer';\nimport axios from './axios';\nimport { db } from './firebase';\n\nfunction Payment() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const history = useHistory();\n    const stripe = useStripe();\n    const elements = useElements();\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState(\"\");\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [clientSecret, setClientSecret] = useState('');\n\n    useEffect(() => {\n        const getClientSecret = async () => {\n            const response = await axios({\n                method: 'post',\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n        getClientSecret();\n    }, [basket])\n    console.log(\"The secret is >>\", clientSecret);\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setProcessing(true);\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({ paymentIntent }) => {\n\n            db\n                .collection('users')\n                .doc(user?.uid)\n                .collection('orders')\n                .doc(paymentIntent.id)\n                .set({\n                    basket: basket,\n                    amount: paymentIntent.amount,\n                    created: paymentIntent.created\n                })\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n            \n            dispatch({\n                type: 'EMPTY_BASKET'\n                \n            })\n            history.replace('/orders');\n        })\n    };\n\n    const handleChange = (event) => {\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : \"\");\n    };\n\n    return (\n        <div className=\"payment\">\n            <div className=\"payment_container\">\n                <h1>\n                    Back to Cart (<Link to=\"/checkout\">{basket?.length} items</Link>)\n                </h1>\n                <div className=\"payment_section\">\n                    <div className=\"payment_title\">\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className=\"payment_address\">\n                        <p>{user?.email}</p>\n                        <p>123 React Ln.</p>\n                        <p>Los Angeles, CA</p>\n                    </div>\n                </div>\n                <div className=\"payment_section\">\n                    <div className=\"payment_title\">\n                        <h3>Review Items and Delivery</h3>\n                    </div>\n                    <div className=\"payment_items\">\n                        {basket.map(item => (\n                        <CheckoutProduct \n                            item={item.id}\n                            id={item.id}\n                            title={item.title}\n                            image={item.image}\n                            price={item.price}\n                            rating={item.rating} />\n                        ))}\n                    </div>\n                </div>\n                <div className=\"payment_section\">\n                    <div className=\"payment_title\">\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className=\"payment_details\">\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange} />\n                            <div className=\"payment_priceContainer\">\n                                <CurrencyFormat\n                                    renderText={(value) => (\n                                        <h3>Order Total: {value}</h3>\n                                    )}\n                                    decimalScale={2}\n                                    value={getBasketTotal(basket)}\n                                    displayType={\"text\"}\n                                    thousandSeparator={true}\n                                    prefix={\"$\"} \n                                />\n                                <button disabled={processing || disabled || succeeded}>\n                                    <span>\n                                        {processing ? \"Processing...\" : \"Buy Now\"}\n                                    </span>\n                                </button>\n                            </div>\n                            {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Payment;\n","/Users/jillwilliams/code/amazon-store/src/axios.js",[],"/Users/jillwilliams/code/amazon-store/src/Orders.js",["91","92"],"import React, { useState, useEffect } from 'react';\nimport './Orders.css';\nimport { db } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport Order from './Order';\n\nfunction Orders() {\n    const [{ basket, user }, dispatch] = useStateValue();\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n        if (user) {\n            db\n            .collection('users')\n            .doc(user?.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => (\n                setOrders(snapshot.docs.map(doc  => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            ))\n        } else {\n            setOrders([]);\n        }\n    }, [user])\n\n    return (\n        <div className=\"orders\">\n            <h1>Your Order</h1>\n            <div className=\"orders_order\">\n                {orders?.map(order=> (\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Orders;\n","/Users/jillwilliams/code/amazon-store/src/Order.js",[],{"ruleId":"93","severity":1,"message":"94","line":18,"column":12,"nodeType":"95","messageId":"96","endLine":18,"endColumn":14},{"ruleId":"97","severity":1,"message":"98","line":33,"column":8,"nodeType":"99","endLine":33,"endColumn":10,"suggestions":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","replacedBy":"104"},{"ruleId":"105","severity":1,"message":"106","line":11,"column":30,"nodeType":"107","messageId":"108","endLine":11,"endColumn":38},{"ruleId":"105","severity":1,"message":"109","line":6,"column":14,"nodeType":"107","messageId":"108","endLine":6,"endColumn":20},{"ruleId":"105","severity":1,"message":"106","line":9,"column":30,"nodeType":"107","messageId":"108","endLine":9,"endColumn":38},{"ruleId":"105","severity":1,"message":"106","line":10,"column":24,"nodeType":"107","messageId":"108","endLine":10,"endColumn":32},{"ruleId":"110","severity":1,"message":"111","line":29,"column":30,"nodeType":"112","messageId":"113","endLine":29,"endColumn":99},{"ruleId":"101","replacedBy":"114"},{"ruleId":"103","replacedBy":"115"},{"ruleId":"101","replacedBy":"116"},{"ruleId":"103","replacedBy":"117"},{"ruleId":"105","severity":1,"message":"109","line":7,"column":14,"nodeType":"107","messageId":"108","endLine":7,"endColumn":20},{"ruleId":"118","severity":1,"message":"119","line":18,"column":13,"nodeType":"120","endLine":18,"endColumn":86},{"ruleId":"105","severity":1,"message":"121","line":37,"column":15,"nodeType":"107","messageId":"108","endLine":37,"endColumn":22},{"ruleId":"105","severity":1,"message":"109","line":8,"column":14,"nodeType":"107","messageId":"108","endLine":8,"endColumn":20},{"ruleId":"105","severity":1,"message":"106","line":8,"column":30,"nodeType":"107","messageId":"108","endLine":8,"endColumn":38},"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["122"],"no-native-reassign",["123"],"no-negated-in-lhs",["124"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'basket' is assigned a value but never used.","no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression",["123"],["124"],["123"],["124"],"jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don‚Äôt need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'payload' is assigned a value but never used.",{"desc":"125","fix":"126"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"127","text":"128"},[1153,1155],"[dispatch]"]